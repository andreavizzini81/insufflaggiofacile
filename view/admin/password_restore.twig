{% extends 'index.twig' %}
{% block content %}
<div class="widget position-absolute login">
	<div class="content">
		<form class="password-restore-form text-center" action="javascript:void(0);" method="POST" novalidate>
			<img src="{{ theme }}assets/img/logo-square.svg" class="center-block mt5 mb30" height="65">
			<h4 class="fw400">Ripristino password</h4>
			{% if (data.step == 1) %} 
			<p class="mb15">Inserisci l&rsquo;indirizzo email dell&rsquo;account per il quale si vuole ripristinare la password</p>
			<div class="form-group">
				<input type="text" name="email" class="form-control" placeholder="Indirizzo email, es. utente@unires.it">
			</div>
			<button type="submit" class="btn btn-info submit-password-restore mt15">
				CONTINUA <span class="fad fa-chevron-circle-right"></span>
			</button>
			{% else %}
			<input type="hidden" name="token" value="{{ data.token }}">
			<p class="mb15">Inserisci la nuova password che desideri impostare. La password deve essere composta da:</p>
			<ul class="text-left">
				<li>almeno un carattere maiuscolo</li>
				<li>almeno un carattere minuscolo</li>
				<li>almeno un simbolo fra: @ $ ! % * ? &</li>
				<li>almeno un numero</li>
				<li>almeno 8 caratteri</li>
			</ul>
			<div class="form-group mt15">
				<label class="field-descriptor hidden">Nuova password</label>
				<input 
					type="password" 
					name="new_password" 
					class="form-control" 
					placeholder="Nuova password" 
					pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" 
					required
				>
			</div>
			<div class="form-group">
				<label class="field-descriptor hidden">Conferma nuova password</label>
				<input 
					type="password" 
					name="new_password_confirm" 
					class="form-control" 
					placeholder="Conferma nuova password" 
					data-validate-linked="new_password" 
					pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" 
					required
				>
			</div>
			<button type="submit" class="btn btn-info submit-new-password mt10">
				IMPOSTA NUOVA PASSWORD <span class="fad fa-check"></span>
			</button>
			{% endif %}
		</form>
	</div>
</div>
{% endblock %}
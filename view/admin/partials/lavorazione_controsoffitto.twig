<div class="col-12 my-3 text-light">
    <h3>Scheda controsoffitto</h3>
</div>
<div class="col-12 col-lg-6 mb-3">
    <div class="form-group">
        <label>Larghezza controsoffitto</label>
        <input type="text" name="larghezzaControsoffitto" class="form-control mka-decimal field" value="{{ immobile.larghezzaControsoffitto != '' ? immobile.larghezzaControsoffitto : '' }}">
    </div>
</div>
<div class="col-12 col-lg-6 mb-3">
    <div class="form-group">
        <label>Lunghezza controsoffitto</label>
        <input type="text" name="lunghezzaControsoffitto" class="form-control mka-decimal field" value="{{ immobile.lunghezzaControsoffitto != '' ? immobile.lunghezzaControsoffitto : '' }}">
    </div>
</div> 
<div class="col-12 col-lg-6 mb-3">
    <div class="form-group">
        <label>Spessore intercapedine in metri</label>
        <input type="text" name="intercapedineControsoffitto" class="form-control mka-decimal field" value="{{ immobile.intercapedineControsoffitto != '' ? immobile.intercapedineControsoffitto : '' }}">
    </div>
</div>
<div class="col-12 mb-3">
    <div class="form-group">
        <label>Metri cubi da insufflare nel controsoffitto</label>
        <div class="input-group">
            <div class="input-group-prepend">
                <button class="btn btn-warning btnCalcControsoffitto" type="button">Calcola</button> 
            </div>
            <input type="text" name="metriCubiControsoffitto" class="form-control" value="{{ immobile.metriCubiControsoffitto != '' ? immobile.metriCubiControsoffitto : '' }}" readonly>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log("OK");
		Delegate(document).on('click', '.btnCalcControsoffitto', function() {
			console.log("BTN");
			const metriCubiOutput = document.querySelector('[name="metriCubiControsoffitto"]');
			const larghezzaControsoffitto = parseFloat(document.querySelector('[name="larghezzaControsoffitto"]').value.replace(",", "."));
			const lunghezzaControsoffitto = parseFloat(document.querySelector('[name="lunghezzaControsoffitto"]').value.replace(",", "."));
			const intercapedineControsoffitto = parseFloat(document.querySelector('[name="intercapedineControsoffitto"]').value.replace(",", "."));
			const metriCubiControsoffitto = (larghezzaControsoffitto*lunghezzaControsoffitto*intercapedineControsoffitto).toFixed(2);
            console.log('larghezza-> '+larghezzaControsoffitto);
			console.log('lunghezza-> '+lunghezzaControsoffitto);
			console.log('intercapedine-> '+intercapedineControsoffitto);
			console.log(metriCubiControsoffitto);
			metriCubiOutput.value = metriCubiControsoffitto;
		});

    });
</script>